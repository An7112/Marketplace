[{"D:\\blockchain\\marketplace\\src\\index.js":"1","D:\\blockchain\\marketplace\\src\\reportWebVitals.js":"2","D:\\blockchain\\marketplace\\src\\App.js":"3","D:\\blockchain\\marketplace\\src\\components\\MainComponent.js":"4","D:\\blockchain\\marketplace\\src\\components\\CreateComponent.js":"5","D:\\blockchain\\marketplace\\src\\components\\ListComponent.js":"6","D:\\blockchain\\marketplace\\src\\components\\announcer.js":"7","D:\\blockchain\\marketplace\\src\\components\\search.js":"8","D:\\blockchain\\marketplace\\src\\components\\Account.js":"9","D:\\blockchain\\marketplace\\src\\components\\Home\\Home.js":"10","D:\\blockchain\\marketplace\\src\\components\\home\\home.js":"11"},{"size":517,"mtime":1642405784128,"results":"12","hashOfConfig":"13"},{"size":375,"mtime":1642398948256,"results":"14","hashOfConfig":"13"},{"size":1961,"mtime":1646021402651,"results":"15","hashOfConfig":"13"},{"size":6651,"mtime":1645958435215,"results":"16","hashOfConfig":"13"},{"size":2531,"mtime":1645958566411,"results":"17","hashOfConfig":"13"},{"size":5153,"mtime":1646103293333,"results":"18","hashOfConfig":"13"},{"size":174,"mtime":1644745501541,"results":"19","hashOfConfig":"13"},{"size":1348,"mtime":1644830633396,"results":"20","hashOfConfig":"13"},{"size":2267,"mtime":1646067343617,"results":"21","hashOfConfig":"13"},{"size":219,"mtime":1644745601381,"results":"22","hashOfConfig":"13"},{"size":219,"mtime":1644802553647,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1ajijfo",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"26"},"D:\\blockchain\\marketplace\\src\\index.js",[],["52","53"],"D:\\blockchain\\marketplace\\src\\reportWebVitals.js",[],"D:\\blockchain\\marketplace\\src\\App.js",["54"],"import { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport { ethers } from 'ethers';\r\nimport Main from './components/MainComponent';\r\nfunction App() {\r\n    \r\n    const [currentAccount, setCurrentAccount] = useState(null);\r\n\r\n    const checkWalletIsConnected = async () => {\r\n        const { ethereum } = window;\r\n\r\n        if (!ethereum) {\r\n            console.log(\"Make sure you have Metamask installed!\");\r\n            return;\r\n        } else {\r\n            console.log(\"Wallet exists! We're ready to go!\")\r\n        }\r\n\r\n    const accounts = await ethereum.request({ method: 'eth_accounts' });\r\n\r\n    if (accounts.length !== 0) {\r\n        const account = accounts[0];\r\n        console.log(\"Found an authorized account: \", account);\r\n        setCurrentAccount(account);\r\n       \r\n    } else {\r\n        console.log(\"No authorized account found\");\r\n    }\r\n  }\r\n\r\n    const connectWalletHandler = async () => {\r\n        const { ethereum } = window;\r\n\r\n    if (!ethereum) {\r\n      alert(\"Please install Metamask!\");\r\n    }\r\n\r\n    try {\r\n      const accounts = await ethereum.request({ method: 'eth_requestAccounts' });\r\n      console.log(\"Found an account! Address: \", accounts[0]);\r\n      setCurrentAccount(accounts[0]);\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n    const connectWalletButton = () => {\r\n        return (\r\n            <button style={{textAlign: 'center', marginTop:'200px', marginLeft:'800px'}} onClick={connectWalletHandler} className='cta-button connect-wallet-button'>\r\n                Connect Wallet\r\n            </button>\r\n        )\r\n    }\r\n\r\n  const MainButton = () => {\r\n    return (\r\n      <Main></Main>\r\n    )\r\n  }\r\n\r\n  useEffect(() => { //Xử lý check... khi cho gì thay đổi\r\n    checkWalletIsConnected();\r\n  }, [])\r\n\r\n  return (\r\n    <div className='main-app'>\r\n      <div>\r\n        {currentAccount ? MainButton() : connectWalletButton()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n\r\n","D:\\blockchain\\marketplace\\src\\components\\MainComponent.js",["55","56"],"import React, { Component} from 'react';\r\nimport Web3 from 'web3';\r\nimport Marketplace from '../ethereum/build/Marketplace.json';\r\nimport  Account  from './Account';\r\nimport Create from './CreateComponent';\r\nimport Products from './ListComponent';\r\nimport Header from './home/home';\r\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport ReactTable from \"react-table\";  \r\nclass Main extends Component {\r\n    \r\n    async loadWeb3() {\r\n        if (window.ethereum) {\r\n            window.web3 = new Web3(window.ethereum);\r\n        } else if (window.web3) {\r\n            window.web3 = new Web3(window.web3.currentProvider);\r\n        } else {\r\n            window.alert('Non-Ethereum browser detected. Try using MetaMask!');\r\n        }\r\n    }\r\n\r\n    async loadBlockchainData() {\r\n        \r\n        this.setState.loading = true;\r\n\r\n        const web3 = window.web3;\r\n        const accounts = await web3.eth.getAccounts();\r\n        const networkId = await web3.eth.net.getId();\r\n        const balance = await web3.eth.getBalance(accounts[0]);\r\n        const marketplaceData = Marketplace.networks[networkId];\r\n\r\n        if (marketplaceData) {\r\n            const marketplace = new web3.eth.Contract(Marketplace.abi, marketplaceData.address);\r\n            const productCount = await marketplace.methods.productCount().call();\r\n            this.setState({ marketplace, productCount });\r\n\r\n            for (let i=1; i<=this.state.productCount; i++) {\r\n                const product = await marketplace.methods.products(i).call();\r\n                this.setState({ products: [...this.state.products, product] });\r\n            }\r\n        } else {\r\n            window.alert('Contract not deployed on given network!');\r\n        }\r\n\r\n        this.setState({ account: accounts[0], balance: balance,loading: false });\r\n        \r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.loadWeb3();\r\n        await this.loadBlockchainData();\r\n        axios.get('http://localhost:4000/purchaseProducts/purchaseAdd')\r\n        .then(res => {\r\n            this.setState({loading:false, products: res.data });\r\n        });\r\n\r\n    }\r\n    // async checkBlock() {\r\n    //     let block = await this.web3.eth.getBlock('latest');\r\n    //     let number = block.number;\r\n    //     console.log('Searching block ' + number);\r\n\r\n    //     if (block != null && block.transactions != null) {\r\n    //         for (let txHash of block.transactions) {\r\n    //             let tx = await this.web3.eth.getTransaction(txHash);\r\n    //             if (this.account == tx.to.toLowerCase()) {\r\n    //                 console.log('Transaction found on block: ' + number);\r\n    //                 console.log({account: tx.from, value: this.web3.utils.fromWei(tx.value, 'ether'), timestamp: new Date()});\r\n    //             }\r\n    //         }\r\n    //     }\r\n    // }\r\n    createProduct(name, price) {\r\n        this.setState({ loading: true })\r\n        this.state.marketplace.methods.createProduct(name, price).send({ from: this.state.account })\r\n        .once('receipt', (receipt) => {\r\n          this.setState({ loading: false })\r\n        })\r\n      }\r\n    \r\n      purchaseProduct(id, price) {\r\n        this.setState({ loading: true })\r\n        this.state.marketplace.methods.purchaseProduct(id).send({ from: this.state.account, value: price })\r\n        .once('receipt', (receipt) => {\r\n          this.setState({ loading: false })\r\n        })\r\n      }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            account: '0x0',\r\n            marketplace: '',\r\n            productCount: 0,\r\n            products: [],\r\n            balance:0,\r\n            loading: true,\r\n            \r\n        };\r\n        \r\n        this.createProduct = this.createProduct.bind(this);\r\n        this.purchaseProduct = this.purchaseProduct.bind(this);\r\n    }\r\n    \r\n    render() {\r\n        let products;\r\n\r\n        if (this.state.loading) {\r\n            products = [];\r\n        } else {\r\n            products = this.state.products;\r\n            console.log(products)\r\n        }\r\n        return (\r\n            \r\n            <div style={{width:'100%'}}>\r\n                \r\n                {/* <Account accounts={accounts} connect={() => wallet.connect()} /> */}\r\n                <Router>\r\n                    <view style={{width:'100%'}}>\r\n                    <div className=\"container\" style={{width:'180%'}} >\r\n                        {/* <div><Header account={this.state.account} /></div> */}\r\n                        <nav className=\"navbar navbar-expand-lg navbar-light bg-dark\">\r\n                            <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n    \r\n                                <ul className=\"navbar-nav mr-auto\" style={{width:'100%',backgroundColor:'dark'}}>\r\n                                    <li className=\"nav-item\">\r\n                                        <Link to={'/create'} className=\"nav-link\" style={{'font-size': '16px', color:'white', textAlign:'center'}}>Create</Link>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <Link to={'/Buy'} className=\"nav-link\" style={{'font-size': '16px', color:'white'}} >Buy product</Link>\r\n                                    </li>\r\n                                    \r\n                                    <li className=\"nav-item\">\r\n                                        <Link to={'/Profile'} className=\"nav-link\" style={{'font-size': '16px', color:'white', textAlign:'center'}}>Profile</Link>\r\n                                    </li>\r\n                                    \r\n                                </ul>\r\n                                \r\n                            </div>\r\n                        </nav> <br/>\r\n         <Switch>\r\n         <Route exact path='/' component={ Header } ></Route>           \r\n         <Route exact path='/create' component={ Create } ><Create createProduct={this.createProduct} /></Route>\r\n         <Route exact path='/Buy'  component={ Products } ><Products products={products} purchaseProduct={this.purchaseProduct} /></Route>\r\n         \r\n         <Route path='/Profile' component={ Account} ><Account account={this.state.account} balance={this.state.balance} productCount={this.state.productCount}/></Route>\r\n     </Switch>\r\n                        \r\n                    </div>\r\n                    </view>\r\n                </Router>\r\n                \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;\r\n","D:\\blockchain\\marketplace\\src\\components\\CreateComponent.js",[],"D:\\blockchain\\marketplace\\src\\components\\ListComponent.js",["57","58","59","60"],"D:\\blockchain\\marketplace\\src\\components\\announcer.js",[],"D:\\blockchain\\marketplace\\src\\components\\search.js",[],"D:\\blockchain\\marketplace\\src\\components\\Account.js",["61","62","63"],"import { Card } from 'react-bootstrap';\r\nimport React from 'react';\r\nimport { FaEthereum } from \"react-icons/fa\";\r\nimport './ListComponent.css'\r\nimport ReactDOM from 'react-dom';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nconst Account = (props) => {\r\n    return (\r\n      <div style={{display:'flex'}} > \r\n        <Card border=\"primary\" style={{ width: '38%',height: '10rem', marginRight:'2rem',fontSize:'14px', backgroundColor:'#336666'  }}>\r\n          <Card.Header>Account\r\n          </Card.Header>\r\n          <Card.Body >\r\n            <Card.Text > <a href={`https://etherscan.io/address/${props.account}`} style={{color:' rgb(88 199 250 / 100%)'}} target={\"_blank\"} className='abc'>\r\n            { props.account === '0x0'\r\n                                    ? <label>Loading...</label>\r\n                                    : props.account\r\n                                    }</a>\r\n            </Card.Text>\r\n          \r\n          </Card.Body>\r\n        </Card>\r\n        <Card border=\"primary\" style={{ width: '38%  ', height: '10rem', marginRight:'2rem',fontSize:'14px', backgroundColor:'#336666'  }}>\r\n          <Card.Header>Balance <FaEthereum />\r\n          </Card.Header>\r\n          <Card.Body>\r\n    \r\n            <Card.Text>\r\n            {props.balance === 0 ? <label>Loading...</label>\r\n                                    : props.balance/1000000000000000000} ETH\r\n            </Card.Text>\r\n          </Card.Body>\r\n        </Card>   \r\n        <Card border=\"primary\" style={{ width: '38%  ', height: '10rem', fontSize:'14px', backgroundColor:'#336666'  }}>\r\n          <Card.Header>Products\r\n          </Card.Header>\r\n          <Card.Body>\r\n    \r\n            <Card.Text>\r\n            {props.productCount === 0 ? <label>Loading...</label>\r\n                                    : props.productCount}\r\n            </Card.Text>\r\n          </Card.Body>\r\n        </Card>     \r\n               \r\n      </div>\r\n      // <div className=\"account-block\">\r\n      //   {accounts?.length > 0 ? (\r\n      //     <>\r\n            \r\n      //     </>\r\n      //   ) : (\r\n      //     <div className=\"connect-button\">\r\n      //       <button onClick={connect}>Connect</button>\r\n      //     </div>\r\n      //   )}\r\n      // </div>\r\n    );\r\n  };\r\nexport default Account;","D:\\blockchain\\marketplace\\src\\components\\Home\\Home.js",[],["64","65"],"D:\\blockchain\\marketplace\\src\\components\\home\\home.js",["66","67"],"import react from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n\r\n    return (\r\n        <div id=\"header\">\r\n        <h1>Hello</h1>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Header;",{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":3,"column":10,"nodeType":"74","messageId":"75","endLine":3,"endColumn":16},{"ruleId":"72","severity":1,"message":"76","line":8,"column":56,"nodeType":"74","messageId":"75","endLine":8,"endColumn":64},{"ruleId":"72","severity":1,"message":"77","line":11,"column":8,"nodeType":"74","messageId":"75","endLine":11,"endColumn":18},{"ruleId":"72","severity":1,"message":"78","line":3,"column":58,"nodeType":"74","messageId":"75","endLine":3,"endColumn":61},{"ruleId":"72","severity":1,"message":"79","line":9,"column":8,"nodeType":"74","messageId":"75","endLine":9,"endColumn":13},{"ruleId":"80","severity":1,"message":"81","line":54,"column":138,"nodeType":"82","messageId":"83","endLine":54,"endColumn":147},{"ruleId":"80","severity":1,"message":"81","line":65,"column":138,"nodeType":"82","messageId":"83","endLine":65,"endColumn":147},{"ruleId":"72","severity":1,"message":"84","line":5,"column":8,"nodeType":"74","messageId":"75","endLine":5,"endColumn":16},{"ruleId":"72","severity":1,"message":"85","line":6,"column":9,"nodeType":"74","messageId":"75","endLine":6,"endColumn":24},{"ruleId":"86","severity":1,"message":"87","line":14,"column":26,"nodeType":"88","endLine":14,"endColumn":160},{"ruleId":"68","replacedBy":"89"},{"ruleId":"70","replacedBy":"90"},{"ruleId":"72","severity":1,"message":"91","line":1,"column":8,"nodeType":"74","messageId":"75","endLine":1,"endColumn":13},{"ruleId":"72","severity":1,"message":"92","line":2,"column":10,"nodeType":"74","messageId":"75","endLine":2,"endColumn":14},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"no-unused-vars","'ethers' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.","'ReactTable' is defined but never used.","'Row' is defined but never used.","'axios' is defined but never used.","no-dupe-keys","Duplicate key 'textAlign'.","ObjectExpression","unexpected","'ReactDOM' is defined but never used.","'CopyToClipboard' is defined but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement",["93"],["94"],"'react' is defined but never used.","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]